<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }
        body{
            text-align: center;
        }
    </style>
    <link rel="stylesheet" href="./MazeGame.css">
</head>

<body>
<ul class="options">
    <li class="button" id="new_maze">new maze</li>
    <li class="button" id="reset_game">reset game</li>
    <li class="button" id="find_path">find path</li>
</ul>
<canvas id="canvas"></canvas>
<script src="./MazeGenerator.js"></script>
<script src="../solution/DFS-Recursive/MazeSolver.v7.js"></script>
<script>
  let canvas = document.getElementById('canvas')
  let context = canvas.getContext('2d')

  let borderWidth = Math.min(window.innerWidth, window.innerHeight - canvas.offsetTop - 10)
  borderWidth = Math.max(borderWidth, 400)

  canvas.width = borderWidth
  canvas.height = borderWidth

  let mazeWidth = 51
  let mazeArray = new MazeGenerator(mazeWidth, mazeWidth).generate()

  let roadWidth = borderWidth / mazeArray[0].length
  let roadHeight = borderWidth / mazeArray.length

  function renderMaze (context, mazeArray) {
    for (let i = 0; i < mazeArray.length; i++) {
      for (let j = 0; j < mazeArray[i].length; j++) {
        context.beginPath()

        context.rect(j * roadWidth, i * roadHeight, roadWidth, roadHeight)

        context.fillStyle = mazeArray[i][j] === 0 ? 'white' : '#3581fc'
        context.fill()

        context.closePath()
      }
    }
  }

  renderMaze(context, mazeArray)
</script>

<script>
</script>

</body>
</html>
